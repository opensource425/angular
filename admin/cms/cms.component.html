
<div class="animated fadeIn">
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <strong>Details</strong>
                </div>
                <div><a class="btn-add" routerLink="/admin/cms/form"><i class="fa fa-plus-circle" aria-hidden="true"></i>
                </a></div>
                <div class="card-body model-div">
                     <table class="table table-bordered table-striped table-sm cms-table">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                <th>Title</th>
                                <th>Last Updated</th>
                                <th>Action</th>
                                <th>Sort</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let c of cmsData; let index = index; let last = last;">
                                <td>{{index+1}}</td>
                                <td>{{c.datum[0]['title']}}</td>
                                <td>{{c.updatedAt | date:'medium' }} by {{c.updatedBy.firstName}}</td>
                                <td>
                                    <a [routerLink]="['/admin/cms/edit', c._id]" ><i class="fa fa-pencil"></i></a>
                                    <label class="switch switch switch-label switch-success" >
                                        <input type="checkbox" class="switch-input" (change)="statusChange($event, c._id)" [checked]="c.status">
                                        <span class="switch-slider" data-checked="Activated" data-unchecked="Deactivated"></span>
                                      </label>
                                </td>
                                <td *ngIf="index==0 && cmsData.length==1; else elseIfOneBlock">
                                    
                                    
                                </td>
                                <ng-template #elseIfOneBlock>
                                    <td  *ngIf="index==0 && cmsData.length>1; else elseIfBlock">
                                        <button class="btn btn-danger" (click)="moveDown(c, index);"><i class="fa fa-arrow-down" aria-hidden="true"></i></button>
                                    </td>
                                    </ng-template>
                                <ng-template #elseIfBlock>
                                <td *ngIf="last; else elseBlock">
                                    
                                    <button class="btn btn-success" (click)="moveUp(c, index);"><i class="fa fa-arrow-up" aria-hidden="true"></i></button>
                                </td>
                                </ng-template>
                                <ng-template #elseBlock>
                                    <td>
                                        
                                        <button class="btn btn-success" (click)="moveUp(c, index);"><i class="fa fa-arrow-up" aria-hidden="true"></i></button>
                                        <button class="btn btn-danger" (click)="moveDown(c, index);"><i class="fa fa-arrow-down" aria-hidden="true"></i></button>
                                    </td>
                                </ng-template>
                            </tr>
                            
                                <tr *ngIf="cmsData.length==0;"><td colspan="5">No CMS Pages to display</td></tr>
                               
                        </tbody>
                    </table>
                    <nav>

                    </nav>
                </div>
            </div>
        </div>
        <!--/.col-->
    </div>

</div>

